define(["core/ajax","jquery"],function(a,b){var c,d,e,f,g,h=300,i=null;return e=function(){b("#id_regex").on("input",c),f()},c=function(){null!==i&&clearTimeout(i),i=setTimeout(d,h)},d=function(){i=null,f()},g=function(a){var c=b(".local_rollover_filter_regex");c.text(a.regex),c.show();var d=b(".local_rollover_filter_samples");d.empty();var e=b("<ul>");a.groups.forEach(function(a){var c=b("<li>").text(a.match),d=b("<ul>");c.append(d),a.shortnames.forEach(function(a){d.append(b("<li>").text(a))}),e.append(c)}),d.append(e),d.show(),b(".local_rollover_filter_loading").hide()},f=function(){var c={regex:document.getElementById("id_regex").value},d=[{methodname:"local_rollover_regex_filter_get_sample_matches_by_regex",args:c}];b(".local_rollover_filter_loading").show();var e=a.call(d),f=e[0];f.done(g).fail(function(a){window.console.error(a)})},{initialise:e}});