define(["core/ajax","jquery"],function(a,b){function c(){b("#id_regex").on("input",d),g()}function d(){null!==i&&clearTimeout(i),i=setTimeout(e,h)}function e(){i=null,g()}function f(a){var c=b("#local_rollover_filter_samples");c.empty(),c.append(b("<h2>").append(b("<pre>").text(a.regex)));var d=b("<ul>");a.groups.forEach(function(a){var c=b("<li>").text(a.match),e=b("<ul>");c.append(e),a.shortnames.forEach(function(a){e.append(b("<li>").text(a))}),d.append(c)}),c.append(d)}function g(){var b={regex:document.getElementById("id_regex").value},c=[{methodname:"local_rollover_regex_filter_get_sample_matches_by_regex",args:b}],d=a.call(c),e=d[0];e.done(f).fail(function(a){window.console.error(a)})}var h=300,i=null;return{initialise:c}});